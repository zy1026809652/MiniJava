target("minijava")
    set_kind("binary")
    add_includedirs("include/", "libs/")
    set_languages("c++17")
    set_symbols("debug")
    add_files("src/*.cpp")
    on_load(function()
        os.run("lex src/lexer.l")
        os.run("yacc -d src/parser.y")

        os.run("mv lex.yy.c src/Lexer.cpp")
        os.run("mv y.tab.c src/Parser.cpp")
        os.run("mv y.tab.h include/Parser.h")
    end)